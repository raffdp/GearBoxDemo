import{r as e,c as n,h as t}from"./p-da09bae5.js";import{d as r}from"./p-f249487f.js";import"./p-b57dc4fe.js";import{r as i}from"./p-0ea28b1c.js";import"./p-df6cbb31.js";import"./p-26586be0.js";function a(e){return null==e}var o={isNothing:a,isObject:function(e){return"object"==typeof e&&null!==e},toArray:function(e){return Array.isArray(e)?e:a(e)?[]:[e]},repeat:function(e,n){var t,r="";for(t=0;t<n;t+=1)r+=e;return r},isNegativeZero:function(e){return 0===e&&Number.NEGATIVE_INFINITY===1/e},extend:function(e,n){var t,r,i,a;if(n)for(t=0,r=(a=Object.keys(n)).length;t<r;t+=1)e[i=a[t]]=n[i];return e}};function s(e,n){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=n,this.message=(this.reason||"(unknown reason)")+(this.mark?" "+this.mark.toString():""),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}(s.prototype=Object.create(Error.prototype)).constructor=s,s.prototype.toString=function(e){var n=this.name+": ";return n+=this.reason||"(unknown reason)",!e&&this.mark&&(n+=" "+this.mark.toString()),n};var c=s;function l(e,n,t,r,i){this.name=e,this.buffer=n,this.position=t,this.line=r,this.column=i}l.prototype.getSnippet=function(e,n){var t,r,i,a,s;if(!this.buffer)return null;for(e=e||4,n=n||75,t="",r=this.position;r>0&&-1==="\0\r\nÂ…\u2028\u2029".indexOf(this.buffer.charAt(r-1));)if(this.position-(r-=1)>n/2-1){t=" ... ",r+=5;break}for(i="",a=this.position;a<this.buffer.length&&-1==="\0\r\nÂ…\u2028\u2029".indexOf(this.buffer.charAt(a));)if((a+=1)-this.position>n/2-1){i=" ... ",a-=5;break}return s=this.buffer.slice(r,a),o.repeat(" ",e)+t+s+i+"\n"+o.repeat(" ",e+this.position-r+t.length)+"^"},l.prototype.toString=function(e){var n,t="";return this.name&&(t+='in "'+this.name+'" '),t+="at line "+(this.line+1)+", column "+(this.column+1),e||(n=this.getSnippet())&&(t+=":\n"+n),t};var u=l,f=["kind","resolve","construct","instanceOf","predicate","represent","defaultStyle","styleAliases"],h=["scalar","sequence","mapping"],d=function(e,n){if(n=n||{},Object.keys(n).forEach((function(n){if(-1===f.indexOf(n))throw new c('Unknown option "'+n+'" is met in definition of "'+e+'" YAML type.')})),this.tag=e,this.kind=n.kind||null,this.resolve=n.resolve||function(){return!0},this.construct=n.construct||function(e){return e},this.instanceOf=n.instanceOf||null,this.predicate=n.predicate||null,this.represent=n.represent||null,this.defaultStyle=n.defaultStyle||null,this.styleAliases=(r={},null!==(t=n.styleAliases||null)&&Object.keys(t).forEach((function(e){t[e].forEach((function(n){r[String(n)]=e}))})),r),-1===h.indexOf(this.kind))throw new c('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.');var t,r};function p(e,n,t){var r=[];return e.include.forEach((function(e){t=p(e,n,t)})),e[n].forEach((function(e){t.forEach((function(n,t){n.tag===e.tag&&n.kind===e.kind&&r.push(t)})),t.push(e)})),t.filter((function(e,n){return-1===r.indexOf(n)}))}function m(e){this.include=e.include||[],this.implicit=e.implicit||[],this.explicit=e.explicit||[],this.implicit.forEach((function(e){if(e.loadKind&&"scalar"!==e.loadKind)throw new c("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.")})),this.compiledImplicit=p(this,"implicit",[]),this.compiledExplicit=p(this,"explicit",[]),this.compiledTypeMap=function(){var e,n,t={scalar:{},sequence:{},mapping:{},fallback:{}};function r(e){t[e.kind][e.tag]=t.fallback[e.tag]=e}for(e=0,n=arguments.length;e<n;e+=1)arguments[e].forEach(r);return t}(this.compiledImplicit,this.compiledExplicit)}m.DEFAULT=null,m.create=function(){var e,n;switch(arguments.length){case 1:e=m.DEFAULT,n=arguments[0];break;case 2:e=arguments[0],n=arguments[1];break;default:throw new c("Wrong number of arguments for Schema.create function")}if(e=o.toArray(e),n=o.toArray(n),!e.every((function(e){return e instanceof m})))throw new c("Specified list of super schemas (or a single Schema object) contains a non-Schema object.");if(!n.every((function(e){return e instanceof d})))throw new c("Specified list of YAML types (or a single Type object) contains a non-Type object.");return new m({include:e,explicit:n})};var b=m,w=new b({explicit:[new d("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return null!==e?e:""}}),new d("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return null!==e?e:[]}}),new d("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return null!==e?e:{}}})]}),v=new d("tag:yaml.org,2002:null",{kind:"scalar",resolve:function(e){if(null===e)return!0;var n=e.length;return 1===n&&"~"===e||4===n&&("null"===e||"Null"===e||"NULL"===e)},construct:function(){return null},predicate:function(e){return null===e},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"}},defaultStyle:"lowercase"}),g=new d("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function(e){if(null===e)return!1;var n=e.length;return 4===n&&("true"===e||"True"===e||"TRUE"===e)||5===n&&("false"===e||"False"===e||"FALSE"===e)},construct:function(e){return"true"===e||"True"===e||"TRUE"===e},predicate:function(e){return"[object Boolean]"===Object.prototype.toString.call(e)},represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function y(e){return 48<=e&&e<=55}function x(e){return 48<=e&&e<=57}var j,k=new d("tag:yaml.org,2002:int",{kind:"scalar",resolve:function(e){if(null===e)return!1;var n,t,r=e.length,i=0,a=!1;if(!r)return!1;if("-"!==(n=e[i])&&"+"!==n||(n=e[++i]),"0"===n){if(i+1===r)return!0;if("b"===(n=e[++i])){for(i++;i<r;i++)if("_"!==(n=e[i])){if("0"!==n&&"1"!==n)return!1;a=!0}return a&&"_"!==n}if("x"===n){for(i++;i<r;i++)if("_"!==(n=e[i])){if(!(48<=(t=e.charCodeAt(i))&&t<=57||65<=t&&t<=70||97<=t&&t<=102))return!1;a=!0}return a&&"_"!==n}for(;i<r;i++)if("_"!==(n=e[i])){if(!y(e.charCodeAt(i)))return!1;a=!0}return a&&"_"!==n}if("_"===n)return!1;for(;i<r;i++)if("_"!==(n=e[i])){if(":"===n)break;if(!x(e.charCodeAt(i)))return!1;a=!0}return!(!a||"_"===n)&&(":"!==n||/^(:[0-5]?[0-9])+$/.test(e.slice(i)))},construct:function(e){var n,t,r=e,i=1,a=[];return-1!==r.indexOf("_")&&(r=r.replace(/_/g,"")),"-"!==(n=r[0])&&"+"!==n||("-"===n&&(i=-1),n=(r=r.slice(1))[0]),"0"===r?0:"0"===n?"b"===r[1]?i*parseInt(r.slice(2),2):"x"===r[1]?i*parseInt(r,16):i*parseInt(r,8):-1!==r.indexOf(":")?(r.split(":").forEach((function(e){a.unshift(parseInt(e,10))})),r=0,t=1,a.forEach((function(e){r+=e*t,t*=60})),i*r):i*parseInt(r,10)},predicate:function(e){return"[object Number]"===Object.prototype.toString.call(e)&&e%1==0&&!o.isNegativeZero(e)},represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0"+e.toString(8):"-0"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),F=new RegExp("^(?:[-+]?(?:0|[1-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$"),_=/^[-+]?[0-9]+e/,A=new b({include:[w],implicit:[v,g,k,new d("tag:yaml.org,2002:float",{kind:"scalar",resolve:function(e){return null!==e&&!(!F.test(e)||"_"===e[e.length-1])},construct:function(e){var n,t,r,i;return t="-"===(n=e.replace(/_/g,"").toLowerCase())[0]?-1:1,i=[],"+-".indexOf(n[0])>=0&&(n=n.slice(1)),".inf"===n?1===t?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===n?NaN:n.indexOf(":")>=0?(n.split(":").forEach((function(e){i.unshift(parseFloat(e,10))})),n=0,r=1,i.forEach((function(e){n+=e*r,r*=60})),t*n):t*parseFloat(n,10)},predicate:function(e){return"[object Number]"===Object.prototype.toString.call(e)&&(e%1!=0||o.isNegativeZero(e))},represent:function(e,n){var t;if(isNaN(e))switch(n){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(n){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(n){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(o.isNegativeZero(e))return"-0.0";return t=e.toString(10),_.test(t)?t.replace("e",".e"):t},defaultStyle:"lowercase"})]}),S=new b({include:[A]}),E=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),O=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$"),N=new d("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function(e){return null!==e&&(null!==E.exec(e)||null!==O.exec(e))},construct:function(e){var n,t,r,i,a,o,s,c,l=0,u=null;if(null===(n=E.exec(e))&&(n=O.exec(e)),null===n)throw new Error("Date resolve error");if(t=+n[1],r=+n[2]-1,i=+n[3],!n[4])return new Date(Date.UTC(t,r,i));if(a=+n[4],o=+n[5],s=+n[6],n[7]){for(l=n[7].slice(0,3);l.length<3;)l+="0";l=+l}return n[9]&&(u=6e4*(60*+n[10]+ +(n[11]||0)),"-"===n[9]&&(u=-u)),c=new Date(Date.UTC(t,r,i,a,o,s,l)),u&&c.setTime(c.getTime()-u),c},instanceOf:Date,represent:function(e){return e.toISOString()}}),L=new d("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function(e){return"<<"===e||null===e}});try{j=r("buffer").Buffer}catch(Qe){}var I,M="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r",D=new d("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function(e){if(null===e)return!1;var n,t,r=0,i=e.length,a=M;for(t=0;t<i;t++)if(!((n=a.indexOf(e.charAt(t)))>64)){if(n<0)return!1;r+=6}return r%8==0},construct:function(e){var n,t,r=e.replace(/[\r\n=]/g,""),i=r.length,a=M,o=0,s=[];for(n=0;n<i;n++)n%4==0&&n&&(s.push(o>>16&255),s.push(o>>8&255),s.push(255&o)),o=o<<6|a.indexOf(r.charAt(n));return 0==(t=i%4*6)?(s.push(o>>16&255),s.push(o>>8&255),s.push(255&o)):18===t?(s.push(o>>10&255),s.push(o>>2&255)):12===t&&s.push(o>>4&255),j?j.from?j.from(s):new j(s):s},predicate:function(e){return j&&j.isBuffer(e)},represent:function(e){var n,t,r="",i=0,a=e.length,o=M;for(n=0;n<a;n++)n%3==0&&n&&(r+=o[i>>18&63],r+=o[i>>12&63],r+=o[i>>6&63],r+=o[63&i]),i=(i<<8)+e[n];return 0==(t=a%3)?(r+=o[i>>18&63],r+=o[i>>12&63],r+=o[i>>6&63],r+=o[63&i]):2===t?(r+=o[i>>10&63],r+=o[i>>4&63],r+=o[i<<2&63],r+=o[64]):1===t&&(r+=o[i>>2&63],r+=o[i<<4&63],r+=o[64],r+=o[64]),r}}),T=Object.prototype.hasOwnProperty,z=Object.prototype.toString,B=new d("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function(e){if(null===e)return!0;var n,t,r,i,a,o=[],s=e;for(n=0,t=s.length;n<t;n+=1){if(a=!1,"[object Object]"!==z.call(r=s[n]))return!1;for(i in r)if(T.call(r,i)){if(a)return!1;a=!0}if(!a)return!1;if(-1!==o.indexOf(i))return!1;o.push(i)}return!0},construct:function(e){return null!==e?e:[]}}),C=Object.prototype.toString,Z=new d("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function(e){if(null===e)return!0;var n,t,r,i,a,o=e;for(a=new Array(o.length),n=0,t=o.length;n<t;n+=1){if("[object Object]"!==C.call(r=o[n]))return!1;if(1!==(i=Object.keys(r)).length)return!1;a[n]=[i[0],r[i[0]]]}return!0},construct:function(e){if(null===e)return[];var n,t,r,i,a,o=e;for(a=new Array(o.length),n=0,t=o.length;n<t;n+=1)r=o[n],i=Object.keys(r),a[n]=[i[0],r[i[0]]];return a}}),q=Object.prototype.hasOwnProperty,U=new b({include:[S],implicit:[N,L],explicit:[D,B,Z,new d("tag:yaml.org,2002:set",{kind:"mapping",resolve:function(e){if(null===e)return!0;var n,t=e;for(n in t)if(q.call(t,n)&&null!==t[n])return!1;return!0},construct:function(e){return null!==e?e:{}}})]}),Y=new d("tag:yaml.org,2002:js/undefined",{kind:"scalar",resolve:function(){return!0},construct:function(){},predicate:function(e){return void 0===e},represent:function(){return""}}),$=new d("tag:yaml.org,2002:js/regexp",{kind:"scalar",resolve:function(e){if(null===e)return!1;if(0===e.length)return!1;var n=e,t=/\/([gim]*)$/.exec(e),r="";if("/"===n[0]){if(t&&(r=t[1]),r.length>3)return!1;if("/"!==n[n.length-r.length-1])return!1}return!0},construct:function(e){var n=e,t=/\/([gim]*)$/.exec(e),r="";return"/"===n[0]&&(t&&(r=t[1]),n=n.slice(1,n.length-r.length-1)),new RegExp(n,r)},predicate:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},represent:function(e){var n="/"+e.source+"/";return e.global&&(n+="g"),e.multiline&&(n+="m"),e.ignoreCase&&(n+="i"),n}});try{I=r("esprima")}catch(Xe){"undefined"!=typeof window&&(I=window.esprima)}var R=new d("tag:yaml.org,2002:js/function",{kind:"scalar",resolve:function(e){if(null===e)return!1;try{var n=I.parse("("+e+")",{range:!0});return"Program"===n.type&&1===n.body.length&&"ExpressionStatement"===n.body[0].type&&("ArrowFunctionExpression"===n.body[0].expression.type||"FunctionExpression"===n.body[0].expression.type)}catch(t){return!1}},construct:function(e){var n,t="("+e+")",r=I.parse(t,{range:!0}),i=[];if("Program"!==r.type||1!==r.body.length||"ExpressionStatement"!==r.body[0].type||"ArrowFunctionExpression"!==r.body[0].expression.type&&"FunctionExpression"!==r.body[0].expression.type)throw new Error("Failed to resolve function");return r.body[0].expression.params.forEach((function(e){i.push(e.name)})),n=r.body[0].expression.body.range,new Function(i,"BlockStatement"===r.body[0].expression.body.type?t.slice(n[0]+1,n[1]-1):"return "+t.slice(n[0],n[1]))},predicate:function(e){return"[object Function]"===Object.prototype.toString.call(e)},represent:function(e){return e.toString()}}),H=b.DEFAULT=new b({include:[U],explicit:[Y,$,R]}),P=Object.prototype.hasOwnProperty,G=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,W=/[\x85\u2028\u2029]/,J=/[,\[\]\{\}]/,K=/^(?:!|!!|![a-z\-]+!)$/i,V=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function Q(e){return Object.prototype.toString.call(e)}function X(e){return 10===e||13===e}function ee(e){return 9===e||32===e}function ne(e){return 9===e||32===e||10===e||13===e}function te(e){return 44===e||91===e||93===e||123===e||125===e}function re(e){var n;return 48<=e&&e<=57?e-48:97<=(n=32|e)&&n<=102?n-97+10:-1}function ie(e){return 48===e?"\0":97===e?"":98===e?"\b":116===e||9===e?"\t":110===e?"\n":118===e?"\v":102===e?"\f":114===e?"\r":101===e?"":32===e?" ":34===e?'"':47===e?"/":92===e?"\\":78===e?"Â…":95===e?"Â ":76===e?"\u2028":80===e?"\u2029":""}function ae(e){return e<=65535?String.fromCharCode(e):String.fromCharCode(55296+(e-65536>>10),56320+(e-65536&1023))}for(var oe=new Array(256),se=new Array(256),ce=0;ce<256;ce++)oe[ce]=ie(ce)?1:0,se[ce]=ie(ce);function le(e,n){this.input=e,this.filename=n.filename||null,this.schema=n.schema||H,this.onWarning=n.onWarning||null,this.legacy=n.legacy||!1,this.json=n.json||!1,this.listener=n.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.documents=[]}function ue(e,n){return new c(n,new u(e.filename,e.input,e.position,e.line,e.position-e.lineStart))}function fe(e,n){throw ue(e,n)}function he(e,n){e.onWarning&&e.onWarning.call(null,ue(e,n))}var de={YAML:function(e,n,t){var r,i,a;null!==e.version&&fe(e,"duplication of %YAML directive"),1!==t.length&&fe(e,"YAML directive accepts exactly one argument"),null===(r=/^([0-9]+)\.([0-9]+)$/.exec(t[0]))&&fe(e,"ill-formed argument of the YAML directive"),i=parseInt(r[1],10),a=parseInt(r[2],10),1!==i&&fe(e,"unacceptable YAML version of the document"),e.version=t[0],e.checkLineBreaks=a<2,1!==a&&2!==a&&he(e,"unsupported YAML version of the document")},TAG:function(e,n,t){var r,i;2!==t.length&&fe(e,"TAG directive accepts exactly two arguments"),i=t[1],K.test(r=t[0])||fe(e,"ill-formed tag handle (first argument) of the TAG directive"),P.call(e.tagMap,r)&&fe(e,'there is a previously declared suffix for "'+r+'" tag handle'),V.test(i)||fe(e,"ill-formed tag prefix (second argument) of the TAG directive"),e.tagMap[r]=i}};function pe(e,n,t,r){var i,a,o,s;if(n<t){if(s=e.input.slice(n,t),r)for(i=0,a=s.length;i<a;i+=1)9===(o=s.charCodeAt(i))||32<=o&&o<=1114111||fe(e,"expected valid JSON character");else G.test(s)&&fe(e,"the stream contains non-printable characters");e.result+=s}}function me(e,n,t,r){var i,a,s,c;for(o.isObject(t)||fe(e,"cannot merge mappings; the provided source object is unacceptable"),s=0,c=(i=Object.keys(t)).length;s<c;s+=1)P.call(n,a=i[s])||(n[a]=t[a],r[a]=!0)}function be(e,n,t,r,i,a,o,s){var c,l;if(Array.isArray(i))for(c=0,l=(i=Array.prototype.slice.call(i)).length;c<l;c+=1)Array.isArray(i[c])&&fe(e,"nested arrays are not supported inside keys"),"object"==typeof i&&"[object Object]"===Q(i[c])&&(i[c]="[object Object]");if("object"==typeof i&&"[object Object]"===Q(i)&&(i="[object Object]"),i=String(i),null===n&&(n={}),"tag:yaml.org,2002:merge"===r)if(Array.isArray(a))for(c=0,l=a.length;c<l;c+=1)me(e,n,a[c],t);else me(e,n,a,t);else e.json||P.call(t,i)||!P.call(n,i)||(e.line=o||e.line,e.position=s||e.position,fe(e,"duplicated mapping key")),n[i]=a,delete t[i];return n}function we(e){var n;10===(n=e.input.charCodeAt(e.position))?e.position++:13===n?(e.position++,10===e.input.charCodeAt(e.position)&&e.position++):fe(e,"a line break is expected"),e.line+=1,e.lineStart=e.position}function ve(e,n,t){for(var r=0,i=e.input.charCodeAt(e.position);0!==i;){for(;ee(i);)i=e.input.charCodeAt(++e.position);if(n&&35===i)do{i=e.input.charCodeAt(++e.position)}while(10!==i&&13!==i&&0!==i);if(!X(i))break;for(we(e),i=e.input.charCodeAt(e.position),r++,e.lineIndent=0;32===i;)e.lineIndent++,i=e.input.charCodeAt(++e.position)}return-1!==t&&0!==r&&e.lineIndent<t&&he(e,"deficient indentation"),r}function ge(e){var n,t=e.position;return!(45!==(n=e.input.charCodeAt(t))&&46!==n||n!==e.input.charCodeAt(t+1)||n!==e.input.charCodeAt(t+2)||0!==(n=e.input.charCodeAt(t+=3))&&!ne(n))}function ye(e,n){1===n?e.result+=" ":n>1&&(e.result+=o.repeat("\n",n-1))}function xe(e,n){var t,r,i=e.tag,a=e.anchor,o=[],s=!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=o),r=e.input.charCodeAt(e.position);0!==r&&45===r&&ne(e.input.charCodeAt(e.position+1));)if(s=!0,e.position++,ve(e,!0,-1)&&e.lineIndent<=n)o.push(null),r=e.input.charCodeAt(e.position);else if(t=e.line,Fe(e,n,3,!1,!0),o.push(e.result),ve(e,!0,-1),r=e.input.charCodeAt(e.position),(e.line===t||e.lineIndent>n)&&0!==r)fe(e,"bad indentation of a sequence entry");else if(e.lineIndent<n)break;return!!s&&(e.tag=i,e.anchor=a,e.kind="sequence",e.result=o,!0)}function je(e){var n,t,r,i,a=!1,o=!1;if(33!==(i=e.input.charCodeAt(e.position)))return!1;if(null!==e.tag&&fe(e,"duplication of a tag property"),60===(i=e.input.charCodeAt(++e.position))?(a=!0,i=e.input.charCodeAt(++e.position)):33===i?(o=!0,t="!!",i=e.input.charCodeAt(++e.position)):t="!",n=e.position,a){do{i=e.input.charCodeAt(++e.position)}while(0!==i&&62!==i);e.position<e.length?(r=e.input.slice(n,e.position),i=e.input.charCodeAt(++e.position)):fe(e,"unexpected end of the stream within a verbatim tag")}else{for(;0!==i&&!ne(i);)33===i&&(o?fe(e,"tag suffix cannot contain exclamation marks"):(t=e.input.slice(n-1,e.position+1),K.test(t)||fe(e,"named tag handle cannot contain such characters"),o=!0,n=e.position+1)),i=e.input.charCodeAt(++e.position);r=e.input.slice(n,e.position),J.test(r)&&fe(e,"tag suffix cannot contain flow indicator characters")}return r&&!V.test(r)&&fe(e,"tag name cannot contain such characters: "+r),a?e.tag=r:P.call(e.tagMap,t)?e.tag=e.tagMap[t]+r:"!"===t?e.tag="!"+r:"!!"===t?e.tag="tag:yaml.org,2002:"+r:fe(e,'undeclared tag handle "'+t+'"'),!0}function ke(e){var n,t;if(38!==(t=e.input.charCodeAt(e.position)))return!1;for(null!==e.anchor&&fe(e,"duplication of an anchor property"),t=e.input.charCodeAt(++e.position),n=e.position;0!==t&&!ne(t)&&!te(t);)t=e.input.charCodeAt(++e.position);return e.position===n&&fe(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(n,e.position),!0}function Fe(e,n,t,r,i){var a,s,c,l,u,f,h,d,p=1,m=!1,b=!1;if(null!==e.listener&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,a=s=c=4===t||3===t,r&&ve(e,!0,-1)&&(m=!0,e.lineIndent>n?p=1:e.lineIndent===n?p=0:e.lineIndent<n&&(p=-1)),1===p)for(;je(e)||ke(e);)ve(e,!0,-1)?(m=!0,c=a,e.lineIndent>n?p=1:e.lineIndent===n?p=0:e.lineIndent<n&&(p=-1)):c=!1;if(c&&(c=m||i),1!==p&&4!==t||(h=1===t||2===t?n:n+1,d=e.position-e.lineStart,1===p?c&&(xe(e,d)||function(e,n,t){var r,i,a,o,s,c=e.tag,l=e.anchor,u={},f={},h=null,d=null,p=null,m=!1,b=!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=u),s=e.input.charCodeAt(e.position);0!==s;){if(r=e.input.charCodeAt(e.position+1),a=e.line,o=e.position,63!==s&&58!==s||!ne(r)){if(!Fe(e,t,2,!1,!0))break;if(e.line===a){for(s=e.input.charCodeAt(e.position);ee(s);)s=e.input.charCodeAt(++e.position);if(58===s)ne(s=e.input.charCodeAt(++e.position))||fe(e,"a whitespace character is expected after the key-value separator within a block mapping"),m&&(be(e,u,f,h,d,null),h=d=p=null),b=!0,m=!1,i=!1,h=e.tag,d=e.result;else{if(!b)return e.tag=c,e.anchor=l,!0;fe(e,"can not read an implicit mapping pair; a colon is missed")}}else{if(!b)return e.tag=c,e.anchor=l,!0;fe(e,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===s?(m&&(be(e,u,f,h,d,null),h=d=p=null),b=!0,m=!0,i=!0):m?(m=!1,i=!0):fe(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,s=r;if((e.line===a||e.lineIndent>n)&&(Fe(e,n,4,!0,i)&&(m?d=e.result:p=e.result),m||(be(e,u,f,h,d,p,a,o),h=d=p=null),ve(e,!0,-1),s=e.input.charCodeAt(e.position)),e.lineIndent>n&&0!==s)fe(e,"bad indentation of a mapping entry");else if(e.lineIndent<n)break}return m&&be(e,u,f,h,d,null),b&&(e.tag=c,e.anchor=l,e.kind="mapping",e.result=u),b}(e,d,h))||function(e,n){var t,r,i,a,o,s,c,l,u,f,h=!0,d=e.tag,p=e.anchor,m={};if(91===(f=e.input.charCodeAt(e.position)))i=93,s=!1,r=[];else{if(123!==f)return!1;i=125,s=!0,r={}}for(null!==e.anchor&&(e.anchorMap[e.anchor]=r),f=e.input.charCodeAt(++e.position);0!==f;){if(ve(e,!0,n),(f=e.input.charCodeAt(e.position))===i)return e.position++,e.tag=d,e.anchor=p,e.kind=s?"mapping":"sequence",e.result=r,!0;h||fe(e,"missed comma between flow collection entries"),u=null,a=o=!1,63===f&&ne(e.input.charCodeAt(e.position+1))&&(a=o=!0,e.position++,ve(e,!0,n)),t=e.line,Fe(e,n,1,!1,!0),l=e.tag,c=e.result,ve(e,!0,n),f=e.input.charCodeAt(e.position),!o&&e.line!==t||58!==f||(a=!0,f=e.input.charCodeAt(++e.position),ve(e,!0,n),Fe(e,n,1,!1,!0),u=e.result),s?be(e,r,m,l,c,u):r.push(a?be(e,null,m,l,c,u):c),ve(e,!0,n),44===(f=e.input.charCodeAt(e.position))?(h=!0,f=e.input.charCodeAt(++e.position)):h=!1}fe(e,"unexpected end of the stream within a flow collection")}(e,h)?b=!0:(s&&function(e,n){var t,r,i,a,s,c=1,l=!1,u=!1,f=n,h=0,d=!1;if(124===(a=e.input.charCodeAt(e.position)))r=!1;else{if(62!==a)return!1;r=!0}for(e.kind="scalar",e.result="";0!==a;)if(43===(a=e.input.charCodeAt(++e.position))||45===a)1===c?c=43===a?3:2:fe(e,"repeat of a chomping mode identifier");else{if(!((i=48<=(s=a)&&s<=57?s-48:-1)>=0))break;0===i?fe(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):u?fe(e,"repeat of an indentation width identifier"):(f=n+i-1,u=!0)}if(ee(a)){do{a=e.input.charCodeAt(++e.position)}while(ee(a));if(35===a)do{a=e.input.charCodeAt(++e.position)}while(!X(a)&&0!==a)}for(;0!==a;){for(we(e),e.lineIndent=0,a=e.input.charCodeAt(e.position);(!u||e.lineIndent<f)&&32===a;)e.lineIndent++,a=e.input.charCodeAt(++e.position);if(!u&&e.lineIndent>f&&(f=e.lineIndent),X(a))h++;else{if(e.lineIndent<f){3===c?e.result+=o.repeat("\n",l?1+h:h):1===c&&l&&(e.result+="\n");break}for(r?ee(a)?(d=!0,e.result+=o.repeat("\n",l?1+h:h)):d?(d=!1,e.result+=o.repeat("\n",h+1)):0===h?l&&(e.result+=" "):e.result+=o.repeat("\n",h):e.result+=o.repeat("\n",l?1+h:h),l=!0,u=!0,h=0,t=e.position;!X(a)&&0!==a;)a=e.input.charCodeAt(++e.position);pe(e,t,e.position,!1)}}return!0}(e,h)||function(e,n){var t,r,i;if(39!==(t=e.input.charCodeAt(e.position)))return!1;for(e.kind="scalar",e.result="",e.position++,r=i=e.position;0!==(t=e.input.charCodeAt(e.position));)if(39===t){if(pe(e,r,e.position,!0),39!==(t=e.input.charCodeAt(++e.position)))return!0;r=e.position,e.position++,i=e.position}else X(t)?(pe(e,r,i,!0),ye(e,ve(e,!1,n)),r=i=e.position):e.position===e.lineStart&&ge(e)?fe(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);fe(e,"unexpected end of the stream within a single quoted scalar")}(e,h)||function(e,n){var t,r,i,a,o,s,c;if(34!==(s=e.input.charCodeAt(e.position)))return!1;for(e.kind="scalar",e.result="",e.position++,t=r=e.position;0!==(s=e.input.charCodeAt(e.position));){if(34===s)return pe(e,t,e.position,!0),e.position++,!0;if(92===s){if(pe(e,t,e.position,!0),X(s=e.input.charCodeAt(++e.position)))ve(e,!1,n);else if(s<256&&oe[s])e.result+=se[s],e.position++;else if((o=120===(c=s)?2:117===c?4:85===c?8:0)>0){for(i=o,a=0;i>0;i--)(o=re(s=e.input.charCodeAt(++e.position)))>=0?a=(a<<4)+o:fe(e,"expected hexadecimal character");e.result+=ae(a),e.position++}else fe(e,"unknown escape sequence");t=r=e.position}else X(s)?(pe(e,t,r,!0),ye(e,ve(e,!1,n)),t=r=e.position):e.position===e.lineStart&&ge(e)?fe(e,"unexpected end of the document within a double quoted scalar"):(e.position++,r=e.position)}fe(e,"unexpected end of the stream within a double quoted scalar")}(e,h)?b=!0:function(e){var n,t,r;if(42!==(r=e.input.charCodeAt(e.position)))return!1;for(r=e.input.charCodeAt(++e.position),n=e.position;0!==r&&!ne(r)&&!te(r);)r=e.input.charCodeAt(++e.position);return e.position===n&&fe(e,"name of an alias node must contain at least one character"),t=e.input.slice(n,e.position),e.anchorMap.hasOwnProperty(t)||fe(e,'unidentified alias "'+t+'"'),e.result=e.anchorMap[t],ve(e,!0,-1),!0}(e)?(b=!0,null===e.tag&&null===e.anchor||fe(e,"alias node should not have any properties")):function(e,n,t){var r,i,a,o,s,c,l,u,f=e.kind,h=e.result;if(ne(u=e.input.charCodeAt(e.position))||te(u)||35===u||38===u||42===u||33===u||124===u||62===u||39===u||34===u||37===u||64===u||96===u)return!1;if((63===u||45===u)&&(ne(r=e.input.charCodeAt(e.position+1))||t&&te(r)))return!1;for(e.kind="scalar",e.result="",i=a=e.position,o=!1;0!==u;){if(58===u){if(ne(r=e.input.charCodeAt(e.position+1))||t&&te(r))break}else if(35===u){if(ne(e.input.charCodeAt(e.position-1)))break}else{if(e.position===e.lineStart&&ge(e)||t&&te(u))break;if(X(u)){if(s=e.line,c=e.lineStart,l=e.lineIndent,ve(e,!1,-1),e.lineIndent>=n){o=!0,u=e.input.charCodeAt(e.position);continue}e.position=a,e.line=s,e.lineStart=c,e.lineIndent=l;break}}o&&(pe(e,i,a,!1),ye(e,e.line-s),i=a=e.position,o=!1),ee(u)||(a=e.position+1),u=e.input.charCodeAt(++e.position)}return pe(e,i,a,!1),!!e.result||(e.kind=f,e.result=h,!1)}(e,h,1===t)&&(b=!0,null===e.tag&&(e.tag="?")),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):0===p&&(b=c&&xe(e,d))),null!==e.tag&&"!"!==e.tag)if("?"===e.tag){for(l=0,u=e.implicitTypes.length;l<u;l+=1)if((f=e.implicitTypes[l]).resolve(e.result)){e.result=f.construct(e.result),e.tag=f.tag,null!==e.anchor&&(e.anchorMap[e.anchor]=e.result);break}}else P.call(e.typeMap[e.kind||"fallback"],e.tag)?(f=e.typeMap[e.kind||"fallback"][e.tag],null!==e.result&&f.kind!==e.kind&&fe(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+f.kind+'", not "'+e.kind+'"'),f.resolve(e.result)?(e.result=f.construct(e.result),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):fe(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")):fe(e,"unknown tag !<"+e.tag+">");return null!==e.listener&&e.listener("close",e),null!==e.tag||null!==e.anchor||b}function _e(e){var n,t,r,i,a=e.position,o=!1;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap={},e.anchorMap={};0!==(i=e.input.charCodeAt(e.position))&&(ve(e,!0,-1),i=e.input.charCodeAt(e.position),!(e.lineIndent>0||37!==i));){for(o=!0,i=e.input.charCodeAt(++e.position),n=e.position;0!==i&&!ne(i);)i=e.input.charCodeAt(++e.position);for(r=[],(t=e.input.slice(n,e.position)).length<1&&fe(e,"directive name must not be less than one character in length");0!==i;){for(;ee(i);)i=e.input.charCodeAt(++e.position);if(35===i){do{i=e.input.charCodeAt(++e.position)}while(0!==i&&!X(i));break}if(X(i))break;for(n=e.position;0!==i&&!ne(i);)i=e.input.charCodeAt(++e.position);r.push(e.input.slice(n,e.position))}0!==i&&we(e),P.call(de,t)?de[t](e,t,r):he(e,'unknown document directive "'+t+'"')}ve(e,!0,-1),0===e.lineIndent&&45===e.input.charCodeAt(e.position)&&45===e.input.charCodeAt(e.position+1)&&45===e.input.charCodeAt(e.position+2)?(e.position+=3,ve(e,!0,-1)):o&&fe(e,"directives end mark is expected"),Fe(e,e.lineIndent-1,4,!1,!0),ve(e,!0,-1),e.checkLineBreaks&&W.test(e.input.slice(a,e.position))&&he(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&ge(e)?46===e.input.charCodeAt(e.position)&&(e.position+=3,ve(e,!0,-1)):e.position<e.length-1&&fe(e,"end of the stream or a document separator is expected")}function Ae(e,n){n=n||{},0!==(e=String(e)).length&&(10!==e.charCodeAt(e.length-1)&&13!==e.charCodeAt(e.length-1)&&(e+="\n"),65279===e.charCodeAt(0)&&(e=e.slice(1)));var t=new le(e,n);for(t.input+="\0";32===t.input.charCodeAt(t.position);)t.lineIndent+=1,t.position+=1;for(;t.position<t.length-1;)_e(t);return t.documents}function Se(e,n,t){var r,i,a=Ae(e,t);if("function"!=typeof n)return a;for(r=0,i=a.length;r<i;r+=1)n(a[r])}function Ee(e,n){var t=Ae(e,n);if(0!==t.length){if(1===t.length)return t[0];throw new c("expected a single document in the stream, but found more")}}var Oe={loadAll:Se,load:Ee,safeLoadAll:function(e,n,t){if("function"!=typeof n)return Se(e,o.extend({schema:U},t));Se(e,n,o.extend({schema:U},t))},safeLoad:function(e,n){return Ee(e,o.extend({schema:U},n))}},Ne=Object.prototype.toString,Le=Object.prototype.hasOwnProperty,Ie={0:"\\0",7:"\\a",8:"\\b",9:"\\t",10:"\\n",11:"\\v",12:"\\f",13:"\\r",27:"\\e",34:'\\"',92:"\\\\",133:"\\N",160:"\\_",8232:"\\L",8233:"\\P"},Me=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"];function De(e){var n,t,r;if(n=e.toString(16).toUpperCase(),e<=255)t="x",r=2;else if(e<=65535)t="u",r=4;else{if(!(e<=4294967295))throw new c("code point within a string may not be greater than 0xFFFFFFFF");t="U",r=8}return"\\"+t+o.repeat("0",r-n.length)+n}function Te(e){this.schema=e.schema||H,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=o.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=function(e,n){var t,r,i,a,o,s,c;if(null===n)return{};for(t={},i=0,a=(r=Object.keys(n)).length;i<a;i+=1)o=r[i],s=String(n[o]),"!!"===o.slice(0,2)&&(o="tag:yaml.org,2002:"+o.slice(2)),(c=e.compiledTypeMap.fallback[o])&&Le.call(c.styleAliases,s)&&(s=c.styleAliases[s]),t[o]=s;return t}(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function ze(e,n){for(var t,r=o.repeat(" ",n),i=0,a=-1,s="",c=e.length;i<c;)-1===(a=e.indexOf("\n",i))?(t=e.slice(i),i=c):(t=e.slice(i,a+1),i=a+1),t.length&&"\n"!==t&&(s+=r),s+=t;return s}function Be(e,n){return"\n"+o.repeat(" ",e.indent*n)}function Ce(e){return 32===e||9===e}function Ze(e){return 32<=e&&e<=126||161<=e&&e<=55295&&8232!==e&&8233!==e||57344<=e&&e<=65533&&65279!==e||65536<=e&&e<=1114111}function qe(e){return Ze(e)&&65279!==e&&44!==e&&91!==e&&93!==e&&123!==e&&125!==e&&58!==e&&35!==e}function Ue(e){return/^\n* /.test(e)}function Ye(e,n,t,r){e.dump=function(){if(0===n.length)return"''";if(!e.noCompatMode&&-1!==Me.indexOf(n))return"'"+n+"'";var i=e.indent*Math.max(1,t),a=-1===e.lineWidth?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-i);switch(function(e,n,t,r,i){var a,o,s,c=!1,l=!1,u=-1!==r,f=-1,h=Ze(s=e.charCodeAt(0))&&65279!==s&&!Ce(s)&&45!==s&&63!==s&&58!==s&&44!==s&&91!==s&&93!==s&&123!==s&&125!==s&&35!==s&&38!==s&&42!==s&&33!==s&&124!==s&&62!==s&&39!==s&&34!==s&&37!==s&&64!==s&&96!==s&&!Ce(e.charCodeAt(e.length-1));if(n)for(a=0;a<e.length;a++){if(!Ze(o=e.charCodeAt(a)))return 5;h=h&&qe(o)}else{for(a=0;a<e.length;a++){if(10===(o=e.charCodeAt(a)))c=!0,u&&(l=l||a-f-1>r&&" "!==e[f+1],f=a);else if(!Ze(o))return 5;h=h&&qe(o)}l=l||u&&a-f-1>r&&" "!==e[f+1]}return c||l?t>9&&Ue(e)?5:l?4:3:h&&!i(e)?1:2}(n,r||e.flowLevel>-1&&t>=e.flowLevel,e.indent,a,(function(n){return function(e,n){var t,r;for(t=0,r=e.implicitTypes.length;t<r;t+=1)if(e.implicitTypes[t].resolve(n))return!0;return!1}(e,n)}))){case 1:return n;case 2:return"'"+n.replace(/'/g,"''")+"'";case 3:return"|"+$e(n,e.indent)+Re(ze(n,i));case 4:return">"+$e(n,e.indent)+Re(ze(function(e,n){for(var t,r,i,a=/(\n+)([^\n]*)/g,o=(i=e.indexOf("\n"),a.lastIndex=i=-1!==i?i:e.length,He(e.slice(0,i),n)),s="\n"===e[0]||" "===e[0];r=a.exec(e);){var c=r[2];t=" "===c[0],o+=r[1]+(s||t||""===c?"":"\n")+He(c,n),s=t}return o}(n,a),i));case 5:return'"'+function(e){for(var n,t,r,i="",a=0;a<e.length;a++)(n=e.charCodeAt(a))>=55296&&n<=56319&&(t=e.charCodeAt(a+1))>=56320&&t<=57343?(i+=De(1024*(n-55296)+t-56320+65536),a++):i+=!(r=Ie[n])&&Ze(n)?e[a]:r||De(n);return i}(n)+'"';default:throw new c("impossible error: invalid scalar style")}}()}function $e(e,n){var t=Ue(e)?String(n):"",r="\n"===e[e.length-1];return t+(!r||"\n"!==e[e.length-2]&&"\n"!==e?r?"":"-":"+")+"\n"}function Re(e){return"\n"===e[e.length-1]?e.slice(0,-1):e}function He(e,n){if(""===e||" "===e[0])return e;for(var t,r,i=/ [^ ]/g,a=0,o=0,s=0,c="";t=i.exec(e);)(s=t.index)-a>n&&(c+="\n"+e.slice(a,r=o>a?o:s),a=r+1),o=s;return c+="\n",(c+=e.length-a>n&&o>a?e.slice(a,o)+"\n"+e.slice(o+1):e.slice(a)).slice(1)}function Pe(e,n,t){var r,i,a,o,s,l;for(a=0,o=(i=t?e.explicitTypes:e.implicitTypes).length;a<o;a+=1)if(((s=i[a]).instanceOf||s.predicate)&&(!s.instanceOf||"object"==typeof n&&n instanceof s.instanceOf)&&(!s.predicate||s.predicate(n))){if(e.tag=t?s.tag:"?",s.represent){if(l=e.styleMap[s.tag]||s.defaultStyle,"[object Function]"===Ne.call(s.represent))r=s.represent(n,l);else{if(!Le.call(s.represent,l))throw new c("!<"+s.tag+'> tag resolver accepts not "'+l+'" style');r=s.represent[l](n,l)}e.dump=r}return!0}return!1}function Ge(e,n){var t=new Te(n=n||{});return t.noRefs||function(e,n){var t,r,i=[],a=[];for(function e(n,t,r){var i,a,o;if(null!==n&&"object"==typeof n)if(-1!==(a=t.indexOf(n)))-1===r.indexOf(a)&&r.push(a);else if(t.push(n),Array.isArray(n))for(a=0,o=n.length;a<o;a+=1)e(n[a],t,r);else for(a=0,o=(i=Object.keys(n)).length;a<o;a+=1)e(n[i[a]],t,r)}(e,i,a),t=0,r=a.length;t<r;t+=1)n.duplicates.push(i[a[t]]);n.usedDuplicates=new Array(r)}(e,t),function e(n,t,r,i,a,o){n.tag=null,n.dump=r,Pe(n,r,!1)||Pe(n,r,!0);var s=Ne.call(n.dump);i&&(i=n.flowLevel<0||n.flowLevel>t);var l,u,f="[object Object]"===s||"[object Array]"===s;if(f&&(u=-1!==(l=n.duplicates.indexOf(r))),(null!==n.tag&&"?"!==n.tag||u||2!==n.indent&&t>0)&&(a=!1),u&&n.usedDuplicates[l])n.dump="*ref_"+l;else{if(f&&u&&!n.usedDuplicates[l]&&(n.usedDuplicates[l]=!0),"[object Object]"===s)i&&0!==Object.keys(n.dump).length?(function(n,t,r,i){var a,o,s,l,u,f,h="",d=n.tag,p=Object.keys(r);if(!0===n.sortKeys)p.sort();else if("function"==typeof n.sortKeys)p.sort(n.sortKeys);else if(n.sortKeys)throw new c("sortKeys must be a boolean or a function");for(a=0,o=p.length;a<o;a+=1)f="",i&&0===a||(f+=Be(n,t)),l=r[s=p[a]],e(n,t+1,s,!0,!0,!0)&&((u=null!==n.tag&&"?"!==n.tag||n.dump&&n.dump.length>1024)&&(n.dump&&10===n.dump.charCodeAt(0)?f+="?":f+="? "),f+=n.dump,u&&(f+=Be(n,t)),e(n,t+1,l,!0,u)&&(n.dump&&10===n.dump.charCodeAt(0)?f+=":":f+=": ",h+=f+=n.dump));n.tag=d,n.dump=h||"{}"}(n,t,n.dump,a),u&&(n.dump="&ref_"+l+n.dump)):(function(n,t,r){var i,a,o,s,c,l="",u=n.tag,f=Object.keys(r);for(i=0,a=f.length;i<a;i+=1)c=n.condenseFlow?'"':"",0!==i&&(c+=", "),s=r[o=f[i]],e(n,t,o,!1,!1)&&(n.dump.length>1024&&(c+="? "),c+=n.dump+(n.condenseFlow?'"':"")+":"+(n.condenseFlow?"":" "),e(n,t,s,!1,!1)&&(l+=c+=n.dump));n.tag=u,n.dump="{"+l+"}"}(n,t,n.dump),u&&(n.dump="&ref_"+l+" "+n.dump));else if("[object Array]"===s){var h=n.noArrayIndent&&t>0?t-1:t;i&&0!==n.dump.length?(function(n,t,r,i){var a,o,s="",c=n.tag;for(a=0,o=r.length;a<o;a+=1)e(n,t+1,r[a],!0,!0)&&(i&&0===a||(s+=Be(n,t)),n.dump&&10===n.dump.charCodeAt(0)?s+="-":s+="- ",s+=n.dump);n.tag=c,n.dump=s||"[]"}(n,h,n.dump,a),u&&(n.dump="&ref_"+l+n.dump)):(function(n,t,r){var i,a,o="",s=n.tag;for(i=0,a=r.length;i<a;i+=1)e(n,t,r[i],!1,!1)&&(0!==i&&(o+=","+(n.condenseFlow?"":" ")),o+=n.dump);n.tag=s,n.dump="["+o+"]"}(n,h,n.dump),u&&(n.dump="&ref_"+l+" "+n.dump))}else{if("[object String]"!==s){if(n.skipInvalid)return!1;throw new c("unacceptable kind of an object to dump "+s)}"?"!==n.tag&&Ye(n,n.dump,t,o)}null!==n.tag&&"?"!==n.tag&&(n.dump="!<"+n.tag+"> "+n.dump)}return!0}(t,0,e,!0,!0)?t.dump+"\n":""}var We={dump:Ge,safeDump:function(e,n){return Ge(e,o.extend({schema:U},n))}};function Je(e){return function(){throw new Error("Function "+e+" is deprecated and cannot be used.")}}var Ke={Type:d,Schema:b,FAILSAFE_SCHEMA:w,JSON_SCHEMA:A,CORE_SCHEMA:S,DEFAULT_SAFE_SCHEMA:U,DEFAULT_FULL_SCHEMA:H,load:Oe.load,loadAll:Oe.loadAll,safeLoad:Oe.safeLoad,safeLoadAll:Oe.safeLoadAll,dump:We.dump,safeDump:We.safeDump,YAMLException:c,MINIMAL_SCHEMA:w,SAFE_SCHEMA:U,DEFAULT_SCHEMA:H,scan:Je("scan"),parse:Je("parse"),compose:Je("compose"),addConstructor:Je("addConstructor")};const Ve=class{constructor(t){e(this,t),this.filter="",this.changeFolder=n(this,"changeFolder",7)}componentWillLoad(){this.setFolder()}componentWillUpdate(){this.setFolder()}componentDidUnload(){this.unsubFileWithProgress&&this.unsubFileWithProgress()}loadReadmeFile(){const e=this.folder.getFileByName("readme.md");e&&e.getPlainTextContent().then(e=>{this.readmeTextContent=e})}loadFileAssociations(){var e;if(null===(e=this.project.connectedApps)||void 0===e?void 0:e.length){const e=this.project.connectedApps.map(async e=>{const n=await this.project.fetchApp(e);await n.fetchLatestVersion();const t=n.getRootFolder().getFileByName("zea-app.yaml");if(!t)throw new Error(`The connected app "${e}" doesn't have a "zea-app.yaml" file.`);const r=await t.getPlainTextContent();return Ke.safeLoad(r)});Promise.all(e).then(e=>{this.fileAssociations=e})}}handleZeaSession(){this.unsubFileWithProgress&&this.unsubFileWithProgress(),i.setSocketURL("https://websocket-staging.zea.live"),this.zeaSession=i.getInstance({id:"zea-web-components"},this.project._id)}setFolder(){this.project&&(this.folder=this.folderId?this.project.getFolderById(this.folderId):this.project.getRootFolder(),this.galleryFolder=this.folder.getFolderByName("gallery"),this.loadReadmeFile(),this.loadFileAssociations(),this.handleZeaSession())}async handleDrop(e){const{files:n}=e.dataTransfer;await this.folder.addFiles(n),await this.project.fetchLatestVersion(),this.folder=null,this.setFolder()}static preventDefaults(e){e.preventDefault(),e.stopPropagation()}async fetchAvailableApps(){this.availableApps=await this.project.fetchAvailableApps()}render(){var e;if(!this.folder)return;const n=Object.values(this.folder.children||{}).filter(e=>e.name.toLowerCase().includes(this.filter.toLowerCase())).sort((e,n)=>e.name.toLowerCase()>n.name.toLowerCase()?1:-1),r=n.filter(e=>e.isFolder),i=n.filter(e=>!e.isFolder);return t("div",{class:{ZeaFileSystemBrowser:!0,"ZeaFileSystemBrowser--highlighted":this.isHighlighted},onDragEnter:e=>{Ve.preventDefaults(e),this.isHighlighted=!0},onDragLeave:e=>{Ve.preventDefaults(e),this.isHighlighted=!1},onDragOver:e=>{Ve.preventDefaults(e),this.isHighlighted=!0},onDrop:async e=>{Ve.preventDefaults(e),this.isHighlighted=!1,await this.handleDrop(e)}},t("div",{class:"ZeaFileSystemBrowser__upload-overlay"},t("img",{src:"./icon-drop-files-here.png"})),t("div",{class:"ZeaFileSystemBrowser__title-bar"},t("span",{class:"flex-auto"},this.project.name),t("ion-button",{shape:"round"},t("ion-icon",{slot:"start",name:"add"}),"new"),t("ion-button",{fill:"clear",title:"Project info"},t("ion-icon",{name:"information-circle-sharp"})),t("ion-button",{fill:"clear",title:"Project settings",onClick:()=>{this.showProjectSettingsDialog=!0}},t("ion-icon",{name:"settings-sharp"})),t("ion-button",{fill:"clear",title:"View as list"},t("ion-icon",{name:"list-sharp"}))),t("div",{class:"ZeaFileSystemBrowser__breadcrumbs"},t("zea-breadcrumbs",{project:this.project,folder:this.folder})),t("div",{class:"mh3"},t("div",{class:"mb4"},t("p",{class:"ZeaFileSystemBrowser__section-title"},"Folders"),r.length?t("div",{class:"ZeaFileSystemBrowser__fs-objects"},r.map(e=>t("zea-thumbnail",{icon:t("ion-icon",{name:"folder"}),zeaModelInstance:e,onDblClickThumbnail:()=>{this.folderId=e.id,this.changeFolder.emit(e)}}))):t("div",null,"No folders.")),t("div",{class:"mb4"},t("p",{class:"ZeaFileSystemBrowser__section-title"},"Files"),i.length?t("div",{class:"ZeaFileSystemBrowser__fs-objects"},i.map(e=>t("zea-thumbnail",{icon:t("ion-icon",{name:"document"}),zeaModelInstance:e,zeaSession:this.zeaSession,onDblClickThumbnail:()=>{const n=this.fileAssociations.find(n=>n["media-types"].includes(e.type));n?window.open(`${n["view-with"]}?project-id=${this.project._id}&file-id=${e.id}`).focus():window.alert(`The file's media type (${e.type}) doesn't have a valid association.`)}}))):t("div",null,"No files.")),t("div",{class:"ZeaFileSystemBrowser__gallery-wrapper"},this.galleryFolder&&t("zea-images-gallery",{folder:this.galleryFolder})),t("div",{class:"ZeaFileSystemBrowser__readme-wrapper"},t("zea-markdown-viewer",{mdText:this.readmeTextContent}))),this.showProjectSettingsDialog&&t("zea-dialog",{shown:!0,width:"50%"},t("div",{slot:"title"},"Project Settings"),t("div",{slot:"body"},t("zea-tabs",null,t("div",{slot:"tab-bar"},"Manage Apps"),t("div",null,t("div",{class:"f4 mb3"},"Manage Apps"),t("ion-button",{class:"mb3",onClick:async()=>{await this.fetchAvailableApps(),this.showAppStoreDialog=!0}},"App Store"),(null===(e=this.project.connectedApps)||void 0===e?void 0:e.length)>0?t("div",null,t("div",{class:"mb3"},"The apps below have been connected to this project."),t("ion-list",null,this.project.connectedApps.map(e=>t("ion-item",null,t("ion-label",null,e),t("ion-button",{class:"dark-red",fill:"clear",slot:"end",title:"Remove",onClick:async()=>{await this.project.disconnectApp(e)}},t("ion-icon",{name:"close-circle-sharp"})))))):t("div",null,"No apps have been connected to this project.")),t("div",{slot:"tab-bar"},"Storage"),t("div",null),t("div",{slot:"tab-bar"},"Advanced"),t("div",null)))),this.showAppStoreDialog&&t("zea-dialog",{shown:!0,width:"75%"},t("div",{slot:"title"},"App Store"),t("div",{slot:"body"},t("ul",{class:"list pl0 flex flex-wrap"},this.availableApps.map(e=>t("li",null,t("button",{class:"AppItem br2 grow shadow-hover mb3 mr3 pa0",title:e.name,type:"button",onClick:async()=>{this.currentApp=await this.project.fetchApp(e._id),await this.currentApp.fetchLatestVersion();const n=this.currentApp.getRootFolder().getFileByName("readme.md");n&&n.getPlainTextContent().then(e=>{this.currentAppReadmeTextContent=e})}},t("div",{class:"AppItem__Thumbnail br2",style:{backgroundImage:"url('https://storage.googleapis.com/zea-drive-staging-projects-assets/thumbnail-pdf-viewer.png')"}}),t("div",{class:"AppItem__Footer flex f6 items-center pa1"},t("span",{class:"AppItem__Name"},e.name)))))))),this.currentApp&&t("zea-dialog",{shown:!0,width:"80%"},t("div",{class:"flex items-center",slot:"title"},t("span",{class:"flex-auto"},this.currentApp.name),t("ion-button",{onClick:async()=>{await this.project.connectApp(this.currentApp._id)}},"Install")),t("div",{slot:"body"},t("zea-markdown-viewer",{mdText:this.currentAppReadmeTextContent}))))}};Ve.style="@import url('https://unpkg.com/tachyons@4/css/tachyons.min.css');.ZeaFileSystemBrowser{background-color:var(--color-background-1);color:var(--color-foreground-1);font-family:var(--theme-font-family)}.ZeaFileSystemBrowser--highlighted>.ZeaFileSystemBrowser__upload-overlay{display:-ms-flexbox;display:flex}.ZeaFileSystemBrowser__title-bar{display:-ms-flexbox;display:flex;height:64px;-ms-flex-align:center;align-items:center;padding:0 1rem;-webkit-box-sizing:border-box;box-sizing:border-box;-ms-flex-pack:justify;justify-content:space-between}.ZeaFileSystemBrowser__fs-objects{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}.ZeaFileSystemBrowser__fs-objects>*{margin:1rem 0 0 1rem}.ZeaFileSystemBrowser__section-title{font-size:14px;font-weight:300}.ZeaFileSystemBrowser__upload-overlay{-ms-flex-align:center;align-items:center;display:none;-ms-flex-pack:center;justify-content:center}.AppItem__Thumbnail{width:220px;height:200px;background-size:contain;background-repeat:no-repeat;background-position:center}.AppItem__Name{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}";export{Ve as zea_file_system_browser}